<app-header></app-header>
<div class="modal-container" *ngIf="!checkLoad">
  <div class="modal flex mx-auto z-50">
    <div class="loader"></div>
  </div>
</div>
<!-- <div class="modal" *ngIf="!checkShowMoreLoader()">
  <div class="loader"></div>
</div> -->
<main class="max-w">
  <section class="banner">
    <div id="default-carousel" class="relative w-full" data-carousel="slide">
      <!-- Carousel wrapper -->
      <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
        <!-- Item 1 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/assets/imgs/banner.jpg"
            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
            alt="..."
          />
        </div>
        <!-- Item 2 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/assets/imgs/blog_1.jpg"
            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
            alt="..."
          />
        </div>
        <!-- Item 3 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/assets/imgs/blog_2.jpg"
            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
            alt="..."
          />
        </div>
        <!-- Item 4 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/assets/imgs/blog_3.jpg"
            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
            alt="..."
          />
        </div>
        <!-- Item 5 -->
        <div class="hidden duration-700 ease-in-out" data-carousel-item>
          <img
            src="/assets/imgs/blog_3.jpg"
            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
            alt="..."
          />
        </div>
      </div>
      <!-- Slider indicators -->
      <div
        class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse"
      >
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="true"
          aria-label="Slide 1"
          data-carousel-slide-to="0"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 2"
          data-carousel-slide-to="1"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 3"
          data-carousel-slide-to="2"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 4"
          data-carousel-slide-to="3"
        ></button>
        <button
          type="button"
          class="w-3 h-3 rounded-full"
          aria-current="false"
          aria-label="Slide 5"
          data-carousel-slide-to="4"
        ></button>
      </div>
      <!-- Slider controls -->
      <button
        type="button"
        class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
        data-carousel-prev
      >
        <span
          class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
        >
          <svg
            class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 6 10"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M5 1 1 5l4 4"
            />
          </svg>
          <span class="sr-only">Previous</span>
        </span>
      </button>
      <button
        type="button"
        class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
        data-carousel-next
      >
        <span
          class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
        >
          <svg
            class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 6 10"
          >
            <path
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="m1 9 4-4-4-4"
            />
          </svg>
          <span class="sr-only">Next</span>
        </span>
      </button>
    </div>
  </section>
  <section class="range">
    <div class="range-title">
      <h3>Browse The Range</h3>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
    </div>
    <div class="range-infor">
      <div class="range-item col-4">
        <img src="/assets/imgs/range_1.jpg" width="90%" alt="" />
        <h4>Dining</h4>
      </div>
      <div class="range-item col-4">
        <img src="/assets/imgs/range_2.jpg" width="90%" alt="" />
        <h4>Living</h4>
      </div>
      <div class="range-item col-4">
        <img src="/assets/imgs/range_3.jpg" width="90%" alt="" />
        <h4>Bedroom</h4>
      </div>
    </div>
  </section>

  <section class="list_product">
    <h3 class="nav-infor_item container flex justify-between items-center">
      <div>Our Products</div>
      <div class="" style="width: 500px">
        <form class="max-w-5xl mx-auto">
          <div class="flex">
            <label
              for="search-dropdown"
              class="mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"
              >Your Email</label
            >
            <button
              id="dropdown-button"
              data-dropdown-toggle="dropdown"
              class="flex-shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center text-gray-900 bg-gray-100 border border-gray-300 rounded-s-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 dark:bg-gray-700 dark:hover:bg-gray-600 dark:focus:ring-gray-700 dark:text-white dark:border-gray-600"
              type="button"
            >
              {{ valueCategoryCheck }}
              <svg
                class="w-2.5 h-2.5 ms-2.5"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 10 6"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m1 1 4 4 4-4"
                />
              </svg>
            </button>
            <div
              id="dropdown"
              class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700"
            >
              <ul
                class="py-2 text-sm text-gray-700 dark:text-gray-200"
                aria-labelledby="dropdown-button"
              >
                <li>
                  <button
                    (click)="searchProductByCategory(0, 'All categories')"
                    type="button"
                    class="inline-flex w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                  >
                    All categories
                  </button>
                </li>
                <li *ngFor="let category of categories">
                  <button
                    (click)="
                      searchProductByCategory(category.id, category.name)
                    "
                    type="button"
                    class="inline-flex w-full px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"
                  >
                    {{ category.name }}
                  </button>
                </li>
              </ul>
            </div>
            <div class="relative w-full">
              <input
                type="search"
                id="search-dropdown"
                [(ngModel)]="keyword"
                name="keyword"
                class="block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-e-lg border-s-gray-50 border-s-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-s-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:border-blue-500"
                placeholder="Search product..."
                required
              />
              <button
                type="submit"
                (click)="searchProduct()"
                class="absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-blue-700 rounded-e-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
              >
                <svg
                  class="w-4 h-4"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 20 20"
                >
                  <path
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"
                  />
                </svg>
                <span class="sr-only">Search</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </h3>

    <section class="container mx-auto p-10 md:py-12 px-0 md:p-8 md:px-0">
      <section
        class="p-5 md:p-0 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-10 items-start"
      >
        <section
          *ngFor="let product of products"
          class="relative rounded-2xl p-5 py-10 bg-purple-50 text-center transform duration-500 hover:-translate-y-2 cursor-pointer"
        >
          <img
            class="rounded-md"
            id="image"
            alt=""
            (mouseover)="hoverImageToImage(product.id)"
            (mouseout)="hoverOutImage()"
            [src]="hoveredProductId === product.id ? hoveredImage : product.url"
          />
          <div class="absolute product-sale">
            {{ product.product_sale.sale }}%
          </div>
          <div
            *ngIf="product.product_sale.newProduct"
            class="absolute product-sale"
            style="background-color: #2ec1ac"
          >
            New
          </div>
          <div class="space-x-1 flex justify-center mt-10 items-center">
            <svg
              *ngFor="let star of getRatingProductId(product.id)"
              class="w-4 h-4 mx-px fill-current text-orange-600"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 14 14"
            >
              <path
                d="M6.43 12l-2.36 1.64a1 1 0 0 1-1.53-1.11l.83-2.75a1 1 0 0 0-.35-1.09L.73 6.96a1 1 0 0 1 .59-1.8l2.87-.06a1 1 0 0 0 .92-.67l.95-2.71a1 1 0 0 1 1.88 0l.95 2.71c.13.4.5.66.92.67l2.87.06a1 1 0 0 1 .59 1.8l-2.3 1.73a1 1 0 0 0-.34 1.09l.83 2.75a1 1 0 0 1-1.53 1.1L7.57 12a1 1 0 0 0-1.14 0z"
              ></path>
            </svg>

            <svg
              class="w-4 h-4 mx-px fill-current text-gray-300"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 14 14"
            >
              <path
                d="M6.43 12l-2.36 1.64a1 1 0 0 1-1.53-1.11l.83-2.75a1 1 0 0 0-.35-1.09L.73 6.96a1 1 0 0 1 .59-1.8l2.87-.06a1 1 0 0 0 .92-.67l.95-2.71a1 1 0 0 1 1.88 0l.95 2.71c.13.4.5.66.92.67l2.87.06a1 1 0 0 1 .59 1.8l-2.3 1.73a1 1 0 0 0-.34 1.09l.83 2.75a1 1 0 0 1-1.53 1.1L7.57 12a1 1 0 0 0-1.14 0z"
              ></path>
            </svg>
            <div>({{ getEvaluationProductId(product.id) }})</div>
          </div>
          <h1 class="text-xl my-5 h-12">{{ product.name }}</h1>
          <div class="mb-5 flex items-center justify-between">
            <div
              class="color"
              [style.background-color]="product.code_color"
            ></div>
            <div class="flex items-center gap-3">
              <span style="font-size: 14px"
                >Đã bán
                {{ formatQuantity(getSoldQuantity(product.id)) }}
              </span>
              <i
                [id]="'heart' + product.id"
                (click)="addAndRemoveFavorite(product.id)"
                class="fa-solid fa-heart text-purple-300"
              ></i>
            </div>
          </div>
          <div class="flex items-center gap-2 justify-center my-3">
            <b>
              {{
                (
                  product.price *
                  ((100 - product.product_sale.sale) / 100)
                ).toLocaleString("vi-VN")
              }}₫</b
            >
            <del *ngIf="!product.product_sale.newProduct"
              >{{ product.price.toLocaleString("vi-VN") }}₫
            </del>
          </div>
          <button
            (click)="onProductClick(product.id)"
            class="p-2 px-6 bg-purple-500 text-white rounded-md hover:bg-purple-600"
          >
            View Detail
          </button>
        </section>
      </section>
    </section>
    <section
      *ngIf="checkShowMore"
      class="container mx-auto p-10 md:py-12 px-0 md:p-8 md:px-0"
    >
      <section
        class="p-5 md:p-0 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-10 items-start"
      >
        <section
          *ngFor="let product of productShowMore"
          class="rounded-2xl p-5 py-10 bg-purple-50 text-center transform duration-500 hover:-translate-y-2 cursor-pointer"
        >
          <img
            class="rounded-md"
            id="image"
            alt=""
            (mouseover)="hoverImageToImage(product.id)"
            (mouseout)="hoverOutImage()"
            [src]="hoveredProductId === product.id ? hoveredImage : product.url"
          />
          <div class="space-x-1 flex justify-center mt-10 items-center">
            <svg
              *ngFor="let star of getRatingProductId(product.id)"
              class="w-4 h-4 mx-px fill-current text-orange-600"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 14 14"
            >
              <path
                d="M6.43 12l-2.36 1.64a1 1 0 0 1-1.53-1.11l.83-2.75a1 1 0 0 0-.35-1.09L.73 6.96a1 1 0 0 1 .59-1.8l2.87-.06a1 1 0 0 0 .92-.67l.95-2.71a1 1 0 0 1 1.88 0l.95 2.71c.13.4.5.66.92.67l2.87.06a1 1 0 0 1 .59 1.8l-2.3 1.73a1 1 0 0 0-.34 1.09l.83 2.75a1 1 0 0 1-1.53 1.1L7.57 12a1 1 0 0 0-1.14 0z"
              ></path>
            </svg>

            <svg
              class="w-4 h-4 mx-px fill-current text-gray-300"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 14 14"
            >
              <path
                d="M6.43 12l-2.36 1.64a1 1 0 0 1-1.53-1.11l.83-2.75a1 1 0 0 0-.35-1.09L.73 6.96a1 1 0 0 1 .59-1.8l2.87-.06a1 1 0 0 0 .92-.67l.95-2.71a1 1 0 0 1 1.88 0l.95 2.71c.13.4.5.66.92.67l2.87.06a1 1 0 0 1 .59 1.8l-2.3 1.73a1 1 0 0 0-.34 1.09l.83 2.75a1 1 0 0 1-1.53 1.1L7.57 12a1 1 0 0 0-1.14 0z"
              ></path>
            </svg>
            <div>({{ getEvaluationProductId(product.id) }})</div>
          </div>
          <h1 class="text-xl my-5 h-12">{{ product.name }}</h1>
          <div class="mb-5 flex items-center justify-between">
            <div
              class="color"
              [style.background-color]="product.code_color"
            ></div>
            <div class="flex items-center gap-3">
              <span style="font-size: 14px"
                >Đã bán
                {{ formatQuantity(getSoldQuantity(product.id)) }}
              </span>
              <i
                [id]="'heart' + product.id"
                (click)="addFavorite(product.id)"
                class="fa-solid fa-heart"
                style="color: #eb1000"
              ></i>
            </div>
          </div>
          <div class="flex items-center gap-2 justify-center my-3">
            <b>
              {{
                (
                  product.price *
                  ((100 - product.product_sale.sale) / 100)
                ).toLocaleString("vi-VN")
              }}₫</b
            >
            <del *ngIf="!product.product_sale.newProduct"
              >{{ product.price.toLocaleString("vi-VN") }}₫
            </del>
          </div>
          <button
            (click)="onProductClick(product.id)"
            class="p-2 px-6 bg-purple-500 text-white rounded-md hover:bg-purple-600"
          >
            View Detail
          </button>
        </section>
      </section>
    </section>
    <button class="show-more" (click)="checkShowMoreProducts()">
      Show more
    </button>
  </section>

  <section class="explore-product">
    <div class="container explore-product">
      <div class="explore-left">
        <h3>50+ Beautiful rooms inspiration</h3>
        <p>
          Our designer already made a lot of beautiful prototipe of rooms that
          inspire you
        </p>
        <button class="btn-explore">Explore More</button>
      </div>
      <div class="explore-center"></div>
      <div
        id="animation-carousel"
        class="relative"
        style="width: 50%"
        data-carousel="static"
      >
        <!-- Carousel wrapper -->
        <div class="relative h-56 overflow-hidden rounded-lg md:h-96">
          <!-- Item 1 -->
          <div class="hidden duration-200 ease-linear" data-carousel-item>
            <img
              src="../../../assets/imgs/blog_1.jpg"
              class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
              alt="..."
            />
          </div>
          <!-- Item 2 -->
          <div class="hidden duration-200 ease-linear" data-carousel-item>
            <img
              src="../../../assets/imgs/blog_2.jpg"
              class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
              alt="..."
            />
          </div>
          <!-- Item 3 -->
          <div
            class="hidden duration-200 ease-linear"
            data-carousel-item="active"
          >
            <img
              src="../../../assets/imgs/blog_3.jpg"
              class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
              alt="..."
            />
          </div>
          <!-- Item 4 -->
          <div class="hidden duration-200 ease-linear" data-carousel-item>
            <img
              src="../../../assets/imgs/blog_1.jpg"
              class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
              alt="..."
            />
          </div>
          <!-- Item 5 -->
          <div class="hidden duration-200 ease-linear" data-carousel-item>
            <img
              src="../../../assets/imgs/blog_2.jpg"
              class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
              alt="..."
            />
          </div>
        </div>
        <!-- Slider controls -->
        <button
          type="button"
          class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
          data-carousel-prev
        >
          <span
            class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
          >
            <svg
              class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 6 10"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M5 1 1 5l4 4"
              />
            </svg>
            <span class="sr-only">Previous</span>
          </span>
        </button>
        <button
          type="button"
          class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
          data-carousel-next
        >
          <span
            class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
          >
            <svg
              class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 6 10"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="m1 9 4-4-4-4"
              />
            </svg>
            <span class="sr-only">Next</span>
          </span>
        </button>
      </div>
    </div>
  </section>
  <section class="setup py-8">
    <div class="container mx-auto">
      <p class="text-center text-lg">Share your setup with</p>
      <h3 class="text-center text-2xl font-bold">#FuniroFurniture</h3>
      <div class="setup-infor mt-8">
        <div class="setup-left">
          <div class="flex items-end space-x-4">
            <div class="setup-item">
              <img src="/assets/imgs/setup_1.jpg" class="w-15" alt="" />
            </div>
            <div class="setup-item">
              <img src="/assets/imgs/setup_2.jpg" alt="" class="w-68" />
            </div>
          </div>
          <div class="flex mt-4 space-x-4">
            <div class="setup-item">
              <img src="/assets/imgs/setup_6.jpg" alt="" class="w-38" />
            </div>
            <div class="setup-item">
              <img src="/assets/imgs/setup_7.jpg" alt="" class="w-50" />
            </div>
          </div>
        </div>
        <div class="setup-center mt-8">
          <div class="setup-item">
            <img src="/assets/imgs/setup_3.jpg" alt="" class="w-75 mx-auto" />
          </div>
        </div>
        <div class="setup-right mt-8">
          <div class="flex items-end space-x-4">
            <div class="setup-item">
              <img src="/assets/imgs/setup_4.jpg" alt="" class="w-38" />
            </div>
            <div class="setup-item">
              <img src="/assets/imgs/setup_5.jpg" alt="" class="w-50" />
            </div>
          </div>
          <div class="flex mt-4 space-x-4">
            <div class="setup-item">
              <img src="/assets/imgs/setup_8.jpg" alt="" class="w-38" />
            </div>
            <div class="setup-item">
              <img src="/assets/imgs/setup_9.jpg" alt="" class="w-50" />
            </div>
            <div class="setup-item flex-1"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<app-footer></app-footer>
